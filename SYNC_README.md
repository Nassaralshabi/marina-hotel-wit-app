# ูุธุงู ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ - Hotel Management System

## ูุธุฑุฉ ุนุงูุฉ
ูุธุงู ูุฒุงููุฉ ุชููุงุฆูุฉ ูุฑุณู ุชุญุฏูุซุงุช ูู ุฏูููุชูู (120 ุซุงููุฉ) ุฅูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู `adenmarina2@gmail.com` ูุถูุงู ุงููุฒุงููุฉ ุจูู ุงููุงุชู ูุงูููุจููุชุฑ.

## ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ
- โ ูุฒุงููุฉ ูู ุฏูููุชูู ุชููุงุฆูุงู
- ๐ง ุฅุฑุณุงู ุงูุชุญุฏูุซุงุช ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ๐ ูุฒุงููุฉ ูู ุงูููุช ุงููุนูู ูู ุงููุชุตูุญ
- ๐ฑ ุฏุนู ุงูุนูู ุฃูููุงูู ูุฃูููุงูู
- ๐ ูุฑุงูุจุฉ ุญุงูุฉ ุงููุฒุงููุฉ
- ๐ ุณุฌูุงุช ููุตูุฉ ููุฃุฎุทุงุก

## ุงูุจูุงูุงุช ุงููุชุฒุงููุฉ
1. **ุงูุญุฌูุฒุงุช ุงูุฌุฏูุฏุฉ** - ูุนูููุงุช ุงููุฒูุงุก ูุงูุบุฑู
2. **ุงููุฏููุนุงุช** - ุฌููุน ุงููุนุงููุงุช ุงููุงููุฉ
3. **ุงููุตุฑููุงุช** - ูุตุฑููุงุช ุงูููุฏู ุงูููููุฉ
4. **ุชุบููุฑุงุช ุญุงูุฉ ุงูุบุฑู** - ุชุญุฏูุซุงุช ุงูุบุฑู (ุดุงุบุฑุฉ/ูุญุฌูุฒุฉ)
5. **ุงูุชูุจููุงุช** - ุชูุจููุงุช ุงููุธุงู ุงููููุฉ

## ูููุงุช ุงููุธุงู

### ุงููููุงุช ุงูุฃุณุงุณูุฉ
- `includes/email_sync.php` - ูุธุงุฆู ุงููุฒุงููุฉ ุงูุฃุณุงุณูุฉ
- `sync_cron.php` - ููู ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ
- `api/email_sync.php` - API ูููุฒุงููุฉ
- `assets/js/auto_sync.js` - ูุฒุงููุฉ ุฌุงูุจ ุงูุนููู
- `setup_sync.php` - ุตูุญุฉ ุฅุนุฏุงุฏ ุงููุธุงู

### ูููุงุช ุงูุณุฌูุงุช
- `logs/sync.log` - ุณุฌู ุนูููุงุช ุงููุฒุงููุฉ
- `logs/last_sync.txt` - ููุช ุขุฎุฑ ูุฒุงููุฉ
- `logs/error.log` - ุณุฌู ุงูุฃุฎุทุงุก

## ุทุฑููุฉ ุงูุชุดุบูู

### 1. ุงูุฅุนุฏุงุฏ ุงูุฃููู
```bash
# ุงูุชุญ ุงููุชุตูุญ ูุงูุชูู ุฅูู:
http://localhost/marina-hotel/setup_sync.php
```

### 2. ุฅุนุฏุงุฏ ุงููููุฉ ุงููุฌุฏููุฉ

#### ููุธุงู Windows:
```cmd
# ุงูุชุญ Command Prompt ููุฏูุฑ
schtasks /create /tn "HotelSyncTask" /tr "php C:\xampp\htdocs\marina-hotel\sync_cron.php" /sc minute /mo 2 /f
```

#### ููุธุงู Linux:
```bash
# ุฃุถู ุฅูู crontab
crontab -e

# ุฃุถู ุงูุณุทุฑ ุงูุชุงูู:
*/2 * * * * /usr/bin/php /path/to/marina-hotel/sync_cron.php
```

#### ุงุณุชุฎุฏุงู ุฎุฏูุฉ Cron Job ุฎุงุฑุฌูุฉ:
- ุงูุชูู ุฅูู [cron-job.org](https://cron-job.org)
- ุฃูุดุฆ ุญุณุงุจ ูุฌุงูู
- ุฃุถู URL: `http://yoursite.com/marina-hotel/sync_cron.php?manual_run=1`
- ุงุถุจุท ุงูุชูุฑุงุฑ: ูู ุฏูููุชูู

### 3. ุงุฎุชุจุงุฑ ุงููุธุงู
```bash
# ุงุฎุชุจุงุฑ ูุฏูู
php sync_cron.php test

# ุชุดุบูู ูุฒุงููุฉ ูุงุญุฏุฉ
php sync_cron.php
```

## ุฅุนุฏุงุฏุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

### Gmail Setup
1. ุงูุชูู ุฅูู [Google Account Settings](https://myaccount.google.com/)
2. ุงุฎุชุฑ "Security" > "2-Step Verification"
3. ุฃูุดุฆ "App Password" ููุชุทุจูู
4. ุงุณุชุฎุฏู ูููุฉ ุงููุฑูุฑ ูุฐู ูู ุงูุฅุนุฏุงุฏุงุช

### ุชุญุฏูุซ ุฅุนุฏุงุฏุงุช ุงูุจุฑูุฏ
```php
// ูู ููู includes/email_sync.php
define('SMTP_HOST', 'smtp.gmail.com');
define('SMTP_PORT', 587);
define('SMTP_USERNAME', 'adenmarina2@gmail.com');
define('SMTP_PASSWORD', 'your-app-password-here'); // ูููุฉ ูุฑูุฑ ุงูุชุทุจูู
```

## ูุฑุงูุจุฉ ุงููุธุงู

### ูุญุต ุญุงูุฉ ุงููุฒุงููุฉ
```bash
# ุนุจุฑ ุงููุชุตูุญ
http://localhost/marina-hotel/api/email_sync.php?action=status

# ุนุจุฑ ุณุทุฑ ุงูุฃูุงูุฑ
curl "http://localhost/marina-hotel/api/email_sync.php?action=status"
```

### ุนุฑุถ ุงูุณุฌูุงุช
```bash
# ุณุฌู ุงููุฒุงููุฉ
tail -f logs/sync.log

# ุขุฎุฑ ูุฒุงููุฉ
cat logs/last_sync.txt
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ ูุญููููุง

#### 1. ูุดู ุฅุฑุณุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
```bash
# ุชุญูู ูู ุฅุนุฏุงุฏุงุช SMTP
# ุชุฃูุฏ ูู ูููุฉ ูุฑูุฑ ุงูุชุทุจูู
# ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
```

#### 2. ุนุฏู ุชุดุบูู ุงููููุฉ ุงููุฌุฏููุฉ
```bash
# Windows: ุชุญูู ูู Task Scheduler
# Linux: ุชุญูู ูู crontab -l
# ุชุฃูุฏ ูู ูุณุงุฑ PHP ุงูุตุญูุญ
```

#### 3. ูุดุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```sql
-- ุชุญูู ูู ุงูุฌุฏุงูู ุงููุทููุจุฉ
SHOW TABLES LIKE 'sync_events';
SHOW TABLES LIKE 'room_status_log';

-- ุฅูุดุงุก ุงูุฌุฏุงูู ูุฏููุงู ุฅุฐุง ูุฒู ุงูุฃูุฑ
CREATE TABLE sync_events (
    id INT AUTO_INCREMENT PRIMARY KEY,
    event_type VARCHAR(50) NOT NULL,
    event_data TEXT,
    timestamp DATETIME NOT NULL,
    synced TINYINT(1) DEFAULT 0
);
```

## API ุงููุชุงุญุฉ

### GET Requests
- `?action=status` - ุญุงูุฉ ุงููุฒุงููุฉ
- `?action=test` - ุงุฎุชุจุงุฑ ุดุงูู
- `?action=last_sync` - ููุช ุขุฎุฑ ูุฒุงููุฉ
- `?action=run_sync` - ุชุดุบูู ูุฒุงููุฉ ูุฏููุฉ

### POST Requests
```javascript
// ุฅุถุงูุฉ ุญุฏุซ ูุฒุงููุฉ
fetch('api/email_sync.php', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({
        action: 'add_sync_event',
        type: 'booking',
        data: {guest_name: 'ุฃุญูุฏ ูุญูุฏ', room_number: '101'}
    })
});
```

## ุงูุฃูุงู ูุงูุฎุตูุตูุฉ
- ๐ ุฌููุน ุงูุจูุงูุงุช ูุดูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ๐ก๏ธ ุงูุชุญูู ูู ุตุญุฉ ุฌููุน ุงููุฏุฎูุงุช
- ๐ง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุญูู ุจูููุฉ ูุฑูุฑ ุงูุชุทุจูู
- ๐ ููุน ุงููุตูู ุงููุจุงุดุฑ ูููููุงุช ุงูุญุณุงุณุฉ

## ุงูุฏุนู ูุงูุตูุงูุฉ
- ๐ ุณุฌูุงุช ุชูุตูููุฉ ูุฌููุน ุงูุนูููุงุช
- ๐ ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุงูุชููุงุฆูุฉ ุนูุฏ ุงููุดู
- ๐ ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก ูุงูุงุณุชุฎุฏุงู
- ๐จ ุชูุจููุงุช ุนูุฏ ุญุฏูุซ ุฃุฎุทุงุก

## ููุงุญุธุงุช ูููุฉ
1. ุชุฃูุฏ ูู ุฃู PHP ูุซุจุช ููุชุงุญ ูู PATH
2. ุชุญูู ูู ุตูุงุญูุงุช ุงููุชุงุจุฉ ูู ูุฌูุฏ logs
3. ุงุณุชุฎุฏู HTTPS ูู ุงูุฅูุชุงุฌ ูุญูุงูุฉ ุงูุจูุงูุงุช
4. ุฑุงูุจ ุงุณุชููุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุชุฌูุจ ุงูุญุธุฑ
5. ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ุฅุนุฏุงุฏุงุช ุงููุฒุงููุฉ

## ุงูุชุฑููุงุช ุงููุณุชูุจููุฉ
- ๐ฑ ุชุทุจูู ููุจุงูู ูููุฒุงููุฉ
- โ๏ธ ูุฒุงููุฉ ูุน ุงูุชุฎุฒูู ุงูุณุญุงุจู
- ๐ ุฅุดุนุงุฑุงุช ููุฑูุฉ ุนุจุฑ Telegram/WhatsApp
- ๐ ุชูุงุฑูุฑ ุชุญููููุฉ ูููุฒุงููุฉ
- ๐ ูุฒุงููุฉ ูุชุนุฏุฏุฉ ุงููุฑูุน
