# ميزة تنظيم الغرف حسب الطوابق

## نظرة عامة
تم إضافة ميزة جديدة لتنظيم الغرف حسب الطوابق في تطبيق Flutter، مشابهة لصفحة `dash.php` في الجزء الخلفي من التطبيق.

## الملفات المضافة/المعدلة

### الملفات الجديدة
1. **`/lib/screens/rooms/rooms_dashboard.dart`**
   - شاشة عرض الغرف منظمة حسب الطوابق
   - تعرض الغرف في شكل شبكة لكل طابق
   - تفاعل مع الغرف (حجز/عرض تفاصيل)

2. **`/lib/screens/rooms/rooms_main.dart`**
   - شاشة رئيسية تجمع بين العرضين
   - تبويبات للتبديل بين عرض الطوابق والقائمة التقليدية

3. **`/lib/components/widgets/room_widgets.dart`**
   - مكونات قابلة لإعادة الاستخدام لعرض الغرف
   - بطاقة الغرفة، عنوان الطابق، الإحصائيات، إلخ.

### الملفات المعدلة
1. **`/lib/screens/dashboard_screen.dart`**
   - إضافة ملخص الغرف منظمة حسب الطوابق
   - أزرار التنقل السريع
   - تحسين واجهة الإحصائيات

2. **`/lib/components/app_bottom_nav.dart`**
   - تحديث لاستخدام `RoomsMainScreen` بدلاً من `RoomsListScreen`

## المميزات الجديدة

### 1. عرض الغرف حسب الطوابق
- تنظيم تلقائي للغرف حسب الرقم الأول في رقم الغرفة
- عرض إحصائيات لكل طابق (محجوزة/شاغرة/المجموع)
- إمكانية طي وفتح كل طابق

### 2. تفاعل محسن مع الغرف
- نقر على الغرفة لعرض التفاصيل
- إمكانية الحجز المباشر للغرف الشاغرة
- عرض الحجوزات للغرف المحجوزة

### 3. واجهة مستخدم محسنة
- ألوان مختلفة للغرف (أخضر للشاغرة، أحمر للمحجوزة)
- رسوم بيانية مرئية للإحصائيات
- تصميم responsive يتكيف مع أحجام الشاشات المختلفة

### 4. تكامل مع لوحة التحكم الرئيسية
- ملخص سريع للغرف في الصفحة الرئيسية
- أزرار التنقل السريع
- إحصائيات مرئية محسنة

## كيفية الاستخدام

### الوصول لميزة تنظيم الغرف
1. من التنقل السفلي، اختر "الغرف"
2. ستجد تبويبين:
   - **عرض الطوابق**: العرض الجديد المنظم حسب الطوابق
   - **قائمة الغرف**: العرض التقليدي كقائمة

### التفاعل مع الغرف
- **النقر على غرفة شاغرة**: إمكانية إنشاء حجز جديد
- **النقر على غرفة محجوزة**: عرض تفاصيل الحجوزات
- **مؤشرات بصرية**: ألوان مختلفة حسب حالة الغرفة

### الإحصائيات
- عرض إحصائيات كل طابق في العنوان
- ملخص شامل في لوحة التحكم الرئيسية
- تحديث تلقائي عند تغيير حالة الغرف

## الهيكل التقني

### تنظيم الطوابق
```dart
// استخراج رقم الطابق من رقم الغرفة
String floorNumber = room.roomNumber.isNotEmpty ? room.roomNumber[0] : '0';
```

### المكونات القابلة لإعادة الاستخدام
- `RoomCard`: بطاقة غرفة واحدة
- `FloorHeader`: عنوان الطابق مع الإحصائيات
- `FloorStats`: عرض الإحصائيات
- `RoomsGrid`: شبكة الغرف
- `FloorSection`: قسم طابق كامل
- `RoomDetailsDialog`: حوار تفاصيل الغرفة

### التبعيات
- `flutter_riverpod`: إدارة الحالة
- الاستفادة من الـ providers الموجودة
- تكامل مع خدمة المزامنة

## المتطلبات المستقبلية
- إضافة فلترة حسب نوع الغرفة
- إضافة البحث السريع
- تحسين الأداء للفنادق الكبيرة
- إضافة إعدادات العرض (عدد الأعمدة، حجم البطاقات)