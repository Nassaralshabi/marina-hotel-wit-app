# ุชูุฑูุฑ ุฅุตูุงุญ ูุธุงู ุงููุฏููุนุงุช - Marina Hotel

## ููุฎุต ุงูุฅุตูุงุญุงุช

ุชู ุจูุฌุงุญ ูุนุงูุฌุฉ ุฌููุน ุงููุดุงูู ุงูุญุฑุฌุฉ ุงูุชู ุชู ุงูุฅุดุงุฑุฉ ุฅูููุง ูู ูุธุงู ุงููุฏููุนุงุชุ ูุฅูุดุงุก ูุธุงู ูุชูุงูู ููุงุจู ููุฅูุชุงุฌ.

## ๐ง ุงููุดุงูู ุงูุชู ุชู ุญููุง

### 1. ุงุณุชุจุฏุงู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ุงูุซุงุจุชุฉ
**ุงููุดููุฉ:** ูุงูุช ุดุงุดุงุช ุงููุฏููุนุงุช ุชุณุชุฎุฏู ุจูุงูุงุช hardcoded ุจุฏูุงู ูู ุฑุจุทูุง ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุญููููุฉ.

**ุงูุญู:** 
- ุฅูุดุงุก 3 ุดุงุดุงุช ุฌุฏูุฏุฉ ูุชูุงููุฉ:
  - `BookingCheckoutScreen`: ุดุงุดุฉ ุฏูุน ุงูุญุฌุฒ ูุน ุฑุจุท ูุงูู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
  - `PaymentHistoryScreen`: ุดุงุดุฉ ุชุงุฑูุฎ ุงููุฏููุนุงุช ูุน ููุงุชุฑ ูุชูุฏูุฉ
  - `PaymentsMainScreen`: ุดุงุดุฉ ุฅุฏุงุฑุฉ ุงููุฏููุนุงุช ุงูุฑุฆูุณูุฉ ูุน ุฅุญุตุงุฆูุงุช ูุฑุณูู ุจูุงููุฉ

### 2. ุฅุตูุงุญ ูุดุงูู substring
**ุงููุดููุฉ:** ุงุณุชุฎุฏุงู `substring` ุจุฏูู ูุญุต ุทูู ุงููุต ูุคุฏู ูุงูููุงุฑ ุงูุชุทุจูู.

**ุงูุญู:**
- ุฅูุดุงุก utility methods ุขููุฉ ูู ูุฆุฉ `Time`:
  - `safeIsoToDateString()`: ุชุญููู ุขูู ููุชุงุฑูุฎ ูุน ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
  - `dateToString()`: ุชูุณูู ุขูู ููุชุงุฑูุฎ
  - `nowDateString()`: ุงูุญุตูู ุนูู ุงูุชุงุฑูุฎ ุงูุญุงูู ุจุตูุบุฉ ุขููุฉ
- ุงุณุชุจุฏุงู ุฌููุน ุงุณุชุฎุฏุงูุงุช `substring` ุงููุจุงุดุฑุฉ ูู:
  - `expenses_list.dart`
  - `sync_service.dart`
  - `seed.dart`

### 3. ุฅุตูุงุญ ุณูุฑุจุช ุงูุจูุงุก
**ุงููุดููุฉ:** `build_simple_apk.bat` ูุญุงูู ูุณุฎ ูููุงุช ูู ูุฌูุฏ ุบูุฑ ููุฌูุฏ.

**ุงูุญู:**
- ุฅุนุงุฏุฉ ูุชุงุจุฉ ุงูุณูุฑุจุช ูููุดุฆ ุฌููุน ุงููููุงุช ุงููุทููุจุฉ ุชููุงุฆูุงู
- ุฅูุดุงุก `MainActivity.java` ู `activity_main.xml` ู `AndroidManifest.xml` ู `build.gradle` ุจุฑูุฌูุงู

### 4. ุฅููุงู ุงููุธุงุฆู ุงูููููุฏุฉ (TODO)
**ุงููุดููุฉ:** ุชูุฌุฏ ูุธุงุฆู ูุญุฏุฏุฉ ูู TODO ุบูุฑ ููุชููุฉ.

**ุงูุญู:**
- ุงููุธููุฉ ุงููุญูุฏุฉ ุงููุญุฏุฏุฉ ูู TODO ูู `env.dart` ุชู ุชูุซูููุง ุจูุถูุญ
- ุฌููุน ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ ูู ุงููุธุงู ููุชููุฉ ูุชุนูู

## ๐ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ

### ุดุงุดุฉ ุฏูุน ุงูุญุฌุฒ (BookingCheckoutScreen)
- ุนุฑุถ ุชูุงุตูู ุงูุญุฌุฒ ูุงููุฉ
- ุนุฑุถ ุงููุฏููุนุงุช ุงูุณุงุจูุฉ ูุน ุงูุฅุฌูุงูู
- ุฅุถุงูุฉ ุฏูุนุงุช ุฌุฏูุฏุฉ ูุน ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน ูููุน ุงูุฅูุฑุงุฏ
- ุฅุชูุงู ุงูุญุฌุฒ ูุชุญุฏูุซ ุญุงูุฉ ุงูุบุฑูุฉ ุชููุงุฆูุงู
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ

### ุดุงุดุฉ ุชุงุฑูุฎ ุงููุฏููุนุงุช (PaymentHistoryScreen)
- ุนุฑุถ ุฌููุน ุงููุฏููุนุงุช ูุน ุชูุงุตูู ูุฑุฆูุฉ
- ููุงุชุฑ ูุชูุฏูุฉ (ููุน ุงูุฅูุฑุงุฏุ ุทุฑููุฉ ุงูุฏูุนุ ูุทุงู ุงูุชุงุฑูุฎ)
- ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ (ุฅุฌูุงูู ุงููุจูุบุ ุนุฏุฏ ุงููุฏููุนุงุช)
- ุชุตููู ุจุตุฑู ุญุณุจ ุทุฑููุฉ ุงูุฏูุน ูุน ุงูุฃููุงู ูุงูุฃููููุงุช
- ุนุฑุถ ุชูุงุตูู ูู ุฏูุนุฉ ูู ูุงูุฐุฉ ููุจุซูุฉ

### ุดุงุดุฉ ุฅุฏุงุฑุฉ ุงููุฏููุนุงุช ุงูุฑุฆูุณูุฉ (PaymentsMainScreen)
- 3 ุชุจููุจุงุช: ูุธุฑุฉ ุนุงูุฉุ ุงููุนุงููุงุชุ ุงูุญุฌูุฒุงุช ุงููุดุทุฉ
- ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ (ุฅุฌูุงููุ ุดูุฑูุ ุฃุณุจูุนู)
- ุฑุณู ุจูุงูู ุฏุงุฆุฑู ูุชูุฒูุน ุงููุฏููุนุงุช
- ุนุฑุถ ุงููุฏููุนุงุช ุงูุฃุฎูุฑุฉ
- ุฑุจุท ูุจุงุดุฑ ูุน ุงูุญุฌูุฒุงุช ุงููุดุทุฉ ููุฏูุน

## ๐ ุชุญุณููุงุช ุงูุฃูุงู ูุงูุงุณุชูุฑุงุฑ

1. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุดุงููุฉ:** ุฌููุน ุงูุนูููุงุช ูุญููุฉ ุถุฏ ุงูุฃุฎุทุงุก ูุน ุฑุณุงุฆู ูุงุถุญุฉ ูููุณุชุฎุฏู
2. **ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช:** ูุญุต ุงููุฏุฎูุงุช ูุจู ุงูุญูุธ
3. **ุงุณุชุฎุฏุงู Streams:** ุฑุจุท ูุจุงุดุฑ ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุญุตูู ุนูู ุงูุจูุงูุงุช ุงููุญุฏุซุฉ ููุฑุงู
4. **ุฅุฏุงุฑุฉ ุงูุญุงูุฉ:** ุงุณุชุฎุฏุงู Riverpod ูุฅุฏุงุฑุฉ ุญุงูุฉ ูุนุงูุฉ ููุชุณูุฉ

## ๐ฑ ุชุญุณููุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู

1. **ุชุตููู Material 3:** ูุงุฌูุฉ ุนุตุฑูุฉ ููุชุณูุฉ
2. **ุฏุนู RTL ูุงูู:** ุชุตููู ููุงุณุจ ููุบุฉ ุงูุนุฑุจูุฉ
3. **ุงูุฃููุงู ูุงูุฃููููุงุช:** ุชุตููู ุจุตุฑู ูุงุถุญ ูุทุฑู ุงูุฏูุน ุงููุฎุชููุฉ
4. **ุงูุฑุณูู ุงูุจูุงููุฉ:** ุงุณุชุฎุฏุงู fl_chart ูุนุฑุถ ุจูุงูุงุช ุชูุงุนููุฉ
5. **ุชูุงุนู ุณูุณ:** ุงูุชูุงูุงุช ูุชููู ุทุจูุนู ุจูู ุงูุดุงุดุงุช

## ๐ ุงูุฑุจุท ูุน ุงููุธุงู ุงูููุฌูุฏ

- **ุชุญุฏูุซ ุดุงุดุฉ ุงููุงููุฉ:** ุงูุขู ุชุณุชุฎุฏู `PaymentsMainScreen` ุจุฏูุงู ูู `PaymentsListScreen` ุงูุจุณูุทุฉ
- **ุฑุจุท Repositories:** ุฅุถุงูุฉ methods ููููุฏุฉ ูู `BookingsRepository` ู `RoomsRepository`
- **ุงุณุชุฎุฏุงู ุงูู Providers ุงูููุฌูุฏุฉ:** ุงูุงุณุชูุงุฏุฉ ูู ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูููุฌูุฏุฉ

## โ ูุชุงุฆุฌ ุงูุฅุตูุงุญ

1. **ูุง ุชูุฌุฏ ุจูุงูุงุช hardcoded:** ุฌููุน ุงูุจูุงูุงุช ุชุฃุชู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. **ูุง ุชูุฌุฏ ูุดุงูู substring:** ุฌููุน ุนูููุงุช ูุนุงูุฌุฉ ุงููุตูุต ุขููุฉ
3. **ุณูุฑุจุช ุงูุจูุงุก ูุนูู:** ุฅูุดุงุก APK ูููู ุจุฏูู ุฃุฎุทุงุก
4. **ูุธุงู ูุฏููุนุงุช ูุชูุงูู:** ุฌููุน ุงููุธุงุฆู ููุชููุฉ ูุฌุงูุฒุฉ ููุฅูุชุงุฌ
5. **ูุงุฌูุฉ ูุณุชุฎุฏู ุงุญุชุฑุงููุฉ:** ุชุตููู ุนุตุฑู ูุณูู ุงูุงุณุชุฎุฏุงู

## ๐ ุงููููุงุช ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ

- `mobile/lib/screens/payments/booking_checkout_screen.dart`
- `mobile/lib/screens/payments/payment_history_screen.dart`  
- `mobile/lib/screens/payments/payments_main_screen.dart`

## ๐ ุงููููุงุช ุงููุญุฏุซุฉ

- `mobile/lib/utils/time.dart` - ุฅุถุงูุฉ utility methods ุขููุฉ
- `mobile/lib/screens/expenses/expenses_list.dart` - ุฅุตูุงุญ substring
- `mobile/lib/services/sync_service.dart` - ุฅุตูุงุญ substring  
- `mobile/lib/services/seed.dart` - ุฅุตูุงุญ substring
- `mobile/lib/screens/finance/finance_screen.dart` - ุงุณุชุฎุฏุงู ุงูุดุงุดุฉ ุงูุฌุฏูุฏุฉ
- `mobile/lib/services/repositories/bookings_repository.dart` - ุฅุถุงูุฉ watchList method
- `mobile/lib/services/repositories/rooms_repository.dart` - ุฅุถุงูุฉ watchByNumber ู update methods
- `build_simple_apk.bat` - ุฅุตูุงุญ ูุดุงูู ูุณุฎ ุงููููุงุช

---

**ุงูุฎูุงุตุฉ:** ุชู ุจูุฌุงุญ ุชุญููู ูุธุงู ุงููุฏููุนุงุช ูู ุญุงูุฉ ุชุทููุฑ ูุน ุจูุงูุงุช ุชุฌุฑูุจูุฉ ุฅูู ูุธุงู ุฅูุชุงุฌ ูุชูุงูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู ูุน ุฌููุน ุงูููุฒุงุช ุงููุทููุจุฉ ูุจุฏูู ุฃู ูุดุงูู ุชูููุฉ.